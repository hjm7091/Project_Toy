<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" charset="utf-8">
    <title>Rowdy Story</title>
</head>
<body>
    <div th:replace="common/header :: header"></div>

    <section class="container" style="margin-top: 120px;">
        <div class="row">

            <div class="col-5 mx-auto my-5">
                <div class="col-12 py-4 border">
                    <div class="row">
                        <div class="col-4">
                            <h5 class="ml-3 text-left"><strong>내정보</strong></h5>
                        </div>
                    </div>
                    <hr>

                    <div class="row no-gutters">
                        <div class="col-md-4 ml-4 mt-4">
                            <img src="http://placehold.it/120X100" alt="...">
                        </div>
                        <div class="col-md-6">
                            <div class="card-body">
                                <h5 class="card-text">홍길동</h5>
                                <div class="card-text"><small class="text-muted">가입일 : 2021-07-18</small></div>
                                <div class="card-text"><small class="text-muted">이메일 인증일 : 2021-07-18</small></div>
                                <div class="card-text"><small class="text-muted">가입 경로 : 소셜</small></div>
                            </div>
                        </div>
                    </div>
                    <hr>

                    <div class="row">
                        <div class="col-10 mx-auto mt-4">
                            <button type="submit" class="btn btn-info btn-block" id="sendVerifyEmail">인증 이메일 보내기</button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-10 mx-auto mt-4 mb-3">
                            <button type="submit" class="btn btn-info btn-block" id="deleteAccount">회원 탈퇴</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-5 mx-auto my-5">
                <div class="col-12 py-4 border">

                    <div class="row">
                        <div class="col-12">
                            <h5 class="ml-3 text-left"><strong>이메일 변경</strong></h5>
                        </div>
                    </div>
                    <hr>

                    <form role="form" id="modifyEmailForm" action="/" method="post">
                        <div class="row">
                            <div class="col-12">
                                <div class="form-row col-12">
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="inputEmail" autocomplete="off" th:value="${session.user.email}" readonly>
                                        <div class="input-group-prepend">
                                        <span class="input-group-text" id="addonEmail">
                                            <svg class="bi bi-envelope" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                              <path fill-rule="evenodd" d="M14 3H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"/>
                                              <path d="M.05 3.555C.017 3.698 0 3.847 0 4v.697l5.803 3.546L0 11.801V12c0 .306.069.596.192.856l6.57-4.027L8 9.586l1.239-.757 6.57 4.027c.122-.26.191-.55.191-.856v-.2l-5.803-3.557L16 4.697V4c0-.153-.017-.302-.05-.445L8 8.414.05 3.555z"/>
                                            </svg>
                                        </span>
                                        </div>
                                        <div id="alertEmail"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <br>

                        <div class="row">
                            <div class="col-12">
                                <button type="submit" class="btn btn-info float-right mr-3 d-block" id="modifyEmailBtn">수정</button>
                                <button type="submit" class="btn btn-info float-right mr-3 d-none" id="modifyEmailCancelBtn">취소</button>
                                <button type="submit" class="btn btn-info float-right mr-3 d-none" id="modifyEmailCompleteBtn" disabled>수정 완료</button>
                            </div>
                        </div>
                    </form>

                </div>

                <div class="col-12 my-5 py-4 border">

                    <div class="row">
                        <div class="col-12">
                            <h5 class="ml-3 text-left"><strong>비밀번호 변경</strong></h5>
                        </div>
                    </div>
                    <hr>

                    <form role="form" id="modifyPasswordForm" action="/" method="post">
                        <div class="row">
                            <div class="col-12">
                                <div class="form-row col-12">
                                    <div class="input-group">
                                        <input type="password" class="form-control" id="inputPassword" autocomplete="off" placeholder="비밀번호는 최소 6자 이상입니다.">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text" id="addonPassword">
                                                <svg class="bi bi-lock" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd" d="M11.5 8h-7a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1zm-7-1a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-7zm0-3a3.5 3.5 0 1 1 7 0v3h-1V4a2.5 2.5 0 0 0-5 0v3h-1V4z"/>
                                                </svg>
                                            </span>
                                        </div>
                                        <div id="alertPassword"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br>

                        <div class="row">
                            <div class="col-12">
                                <button type="submit" class="btn btn-info float-right mr-3" id="modifyPasswordBtn" disabled>수정</button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>

        </div>

        <div class="row">
            <div class="col-8 mx-auto my-5 py-4 border">
                내 게시물 목록
            </div>
        </div>
    </section>

    <div th:replace="common/footer :: footer"></div>
    <script th:src="@{/custom/js/account/info.js}"></script>
    <script th:src="@{/custom/js/account/account.js}"></script>

</body>
</html>